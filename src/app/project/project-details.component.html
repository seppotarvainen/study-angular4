<div>
  <div *ngIf="isEditMode; else project_view">
    <ng-container *ngTemplateOutlet="project_form_template"></ng-container>
  </div>
</div>

<!-- Project form -->
<ng-template #project_form_template>
  <div class="row">
    <h1 [ngClass]="{'placeholder': projectCopy.title.length === 0}">{{showProjectHeading()}}</h1>
    <form class="form-horizontal" #projectForm="ngForm">

      <div class="form-group">
        <label for="title" class="col-sm-2">Title</label>
        <div class="col-sm-10">
          <input class="form-control"
                 id="title"
                 name="title"
                 [(ngModel)]="projectCopy.title"
                 #title="ngModel">
        </div>
      </div>

      <div class="form-group">
        <label for="description" class="col-sm-2">Description</label>
        <div class="col-sm-10">
          <textarea class="form-control"
                    id="description"
                    name="description"
                    [(ngModel)]="projectCopy.description"
                    #description="ngModel"></textarea>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-default" (click)="onClickSubmit()">
            Submit
          </button>
          &ensp;
          <button type="button" class="btn btn-danger" (click)="onClickCancel()">Cancel</button>
        </div>
      </div>

    </form>
  </div>
</ng-template>

<!-- Normal project view -->
<ng-template #project_view>
  <div *ngIf="project; else no_content">
    <div class="row">
      <h1>
        <span>{{ project.title }}</span>
      </h1>

      <p class="lead">
        {{ project.description }}
      </p>

      <!-- Timer component -->
      <timer [time]="project.timeInSeconds"
             (onUpdateTime)="updateTime($event)"></timer>
    </div>

    <div class="row">
      <hr>
      <div>
        <p>&ensp;
          <button type="button" class="btn btn-danger" (click)="onClickDelete()">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete project
          </button>
        </p>
      </div>
    </div>
  </div>
</ng-template>

<!-- Shown if no project is selected -->
<ng-template #no_content>
  <div class="row">
    <h1>No project selected</h1>
  </div>
</ng-template>
